name: Add label to PR with CI results
description: Add label to PR with CI results
inputs:
  SUCCESS:
    description: Text of the comment
    required: true
  PULL_REQUEST_NUMBER:
    description: Pull request id
    required: false
    default: "0"
runs:
  using: "composite"
  steps:
    - name: delete success label
      if: contains( github.event.pull_request.labels.*.name, 'CI run has succeded!')
      uses: actions-ecosystem/action-remove-labels@v1
      with:
          labels: "CI run has succeded!"
    - name: delete fail label
      if: contains( github.event.pull_request.labels.*.name, 'CI run has failed!')
      uses: actions-ecosystem/action-remove-labels@v1
      with:
          labels: "CI run has failed!"
    - name: adding success label
      uses: actions-ecosystem/action-add-labels@v1
      if: ${{ inputs.SUCCESS == 'true' }}
      with:
          labels: "CI run has succeded!"
          number: PULL_REQUEST_NUMBER
    - name: adding fail label
      uses: actions-ecosystem/action-add-labels@v1
      if: ${{ inputs.SUCCESS == 'false' }}
      with:
          labels: "CI run has failed!"
          number: PULL_REQUEST_NUMBER
